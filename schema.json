{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"s-msk-v-acweb2:8106","basePath":"/","tags":[{"name":"qr-controller","description":"QR Controller"},{"name":"sbp-transaction-controller","description":"Sbp Transaction Controller"}],"paths":{"/sbp/v1/qr/register":{"post":{"tags":["qr-controller"],"summary":"Регистрация QR кода","operationId":"registerUsingPOST","consumes":["application/json;charset=UTF-8"],"produces":["application/json;charset=UTF-8"],"parameters":[{"in":"body","name":"payment","description":"payment","required":true,"schema":{"$ref":"#/definitions/Payment"}}],"responses":{"200":{"description":"Операция выполнена успешно.","schema":{"$ref":"#/definitions/QR"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"500":{"description":"Ошибка при выполнении."}},"security":[{"basicAuth":[]}],"deprecated":false}},"/sbp/v1/qr/{qrId}/info":{"get":{"tags":["qr-controller"],"summary":"Получение данных по зарегистрированному ранее QR коду","operationId":"getStatusUsingGET","produces":["application/json;charset=UTF-8"],"parameters":[{"name":"qrId","in":"path","description":"qrId","required":true,"type":"string"}],"responses":{"200":{"description":"Операция выполнена успешно.","schema":{"$ref":"#/definitions/QR"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"500":{"description":"Ошибка при выполнении."}},"security":[{"basicAuth":[]}],"deprecated":false}},"/sbp/v1/qr/{qrId}/payment-info":{"get":{"tags":["qr-controller"],"summary":"Получение информации по платежу","operationId":"getPaymentInfoUsingGET","produces":["application/json;charset=UTF-8"],"parameters":[{"name":"qrId","in":"path","description":"qrId","required":true,"type":"string"}],"responses":{"200":{"description":"Операция выполнена успешно.","schema":{"$ref":"#/definitions/PaymentInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"500":{"description":"Ошибка при выполнении."}},"security":[{"basicAuth":[]}],"deprecated":false}},"/sbp/v1/transaction/{qrId}/status":{"get":{"tags":["sbp-transaction-controller"],"summary":"updatePaymentStatus","operationId":"updatePaymentStatusUsingGET","produces":["application/json;charset=UTF-8"],"parameters":[{"name":"qrId","in":"path","description":"qrId","required":true,"type":"string"},{"name":"status","in":"query","description":"status","required":true,"type":"string","enum":["SUCCESS","DECLINED","NOINFO","INPROGRESS"]}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"Payment":{"type":"object","required":["amount","createDate","currency","merchantId","order","qrType"],"properties":{"additionalInfo":{"type":"string","description":"Дополнительная информация, заполняемая по желанию ТСП при генерации QRC"},"amount":{"type":"number","description":"Сумма платежа"},"createDate":{"type":"string","format":"date-time","description":"Время формирования заявки"},"currency":{"type":"string","description":"Валюта (RUB)","enum":["RUB"]},"merchantId":{"type":"string","description":"Идентификатор зарегистрированного ТСП в СБП"},"order":{"type":"string","description":"Уникальный идентификатор заказа в системе ТСП"},"phone":{"type":"string","description":"Идентификатор плательщика (номер телефона без префикса +7)"},"qrType":{"type":"string","description":"Тип QR кода","enum":["QRStatic","QRDynamic"]}},"title":"Payment"},"PaymentInfo":{"type":"object","required":["amount","createDate","currency","order","paymentStatus","qrId","transactionId"],"properties":{"additionalInfo":{"type":"string","description":"Дополнительная информация, заполняемая по желанию ТСП при генерации QRC"},"amount":{"type":"number","description":"Сумма платежа"},"createDate":{"type":"string","format":"date-time","description":"Время формирования заявки"},"currency":{"type":"string","description":"Валюта платежа","enum":["RUB"]},"fee":{"type":"number","description":"Комиссия"},"order":{"type":"string","description":"Уникальный идентификатор заказа в системе ТСП"},"paymentPurpose":{"type":"string","description":"Назначение платежа, введенное покупателем"},"paymentStatus":{"type":"string","description":"Статус платежа","enum":["SUCCESS","DECLINED","NOINFO","INPROGRESS"]},"phone":{"type":"string","description":"Идентификатор плательщика (номер телефона без префикса +7)"},"qrId":{"type":"string","description":"Уникальный идентификатор QRC, выданный СБП при запросе генерации QRC"},"refundList":{"type":"array","description":"Перечень возвратов","items":{"$ref":"#/definitions/RefundInfo"}},"transactionDate":{"type":"string","format":"date-time","description":"Дата и время проведения платежа"},"transactionId":{"type":"integer","format":"int64","description":"Идентификатор операции платежа в Райффайзенбанке"}},"title":"PaymentInfo"},"QR":{"type":"object","required":["code","payload","qrId","qrUrl"],"properties":{"code":{"type":"string","description":"Код сообщения"},"message":{"type":"string","description":"Текст сообщения"},"payload":{"type":"string","description":"Payload зарегистрированного QR кода в СБП"},"qrId":{"type":"string","description":"Идентификатор зарегистрированного QRС в СБП"},"qrUrl":{"type":"string","description":"URL QR кода"}},"title":"QR"},"RefundInfo":{"type":"object","required":["refundStatus","transactionDate","transactionId"],"properties":{"amount":{"type":"number","description":"Сумма платежа"},"refundStatus":{"type":"string","description":"Статус операции возврата","enum":["SUCCESS","DECLINED"]},"transactionDate":{"type":"string","format":"date-time","description":"Дата и время проведения платежа"},"transactionId":{"type":"integer","format":"int64","description":"Идентификатор операции платежа в Райффайзенбанке"}},"title":"RefundInfo"}}}